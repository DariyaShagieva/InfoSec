<!DOCTYPE html>
<html lang="en">
<head>
    <script
            src="https://code.jquery.com/jquery-3.4.1.js"
            integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
            crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>CVSS V3</title>
</head>
<body>
<!-- Image and text -->
<nav class="navbar navbar-light bg-light">
    <a class="navbar-brand" href="#">
        <img src="https://www.el-g.com.ua/sites/default/files/calculator.png" width="30" height="30"
             class="d-inline-block align-top" alt="">
        Калькулятор CVSS Version 3
    </a>
</nav>
<div class="container-fluid">
    <div class="accordion" id="accordionExample">
        <div class="card">
            <div class="card-header" id="headingOne">
                <h2 class="mb-0">
                    <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne"
                            aria-expanded="true" aria-controls="collapseOne">
                        Базовые метрики
                    </button>
                </h2>
            </div>
            <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
                <div class="jumbotron jumbotron-xl">
                    <div class="row">
                        <div class="col-8">
                            <div class="row">
                                <div class="col-6">
                                    <div style="text-align: center;">
                                        <h2> Сложность атаки (AC) </h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseAc('0.44')"> Высокая (H)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseAc('0.77')"> Низкая (L)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div style="text-align: center;">
                                        <h2> Влияние на другие компоненты системы (S)</h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseS('0.0')"> Не оказывает (U)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseS('1.1')"> Оказывает (C)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <div style="text-align: center;">
                                        <h2> Вектор атаки (AV)  </h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseAv('0.2')"> Физический (P)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseAv('0.55')"> Локальный (L)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseAv('0.62')"> Смежная сеть (A)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseAv('0.85')"> Сетевой (N)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div style="text-align: center;">
                                        <h2>Влияние на конфиденциальность (С)</h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseC('0.0')"> Не оказывает (N)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseC('0.22')"> Низкое (L)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseC('0.56')"> Высокое (H)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <div style="text-align: center;">
                                        <h2> Уровень привилегий (PR) </h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="choosePr('0.27')"> Высокий (H)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="choosePr('0.62')"> Низкий (L)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="choosePr('0.85')"> Не требуется (N)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div style="text-align: center;">
                                        <h2> Влияние на целостность (I)</h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseI('0.0')"> Не оказывает (N)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseI('0.22')"> Низкое (L)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseI('0.56')"> Высокое (H)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <div style="text-align: center;">
                                        <h2> Взаимодействие с пользователем (UI)  </h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseUi('0.85')"> Не требуется (N)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseUi('0.62')"> Требуется (R)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div style="text-align: center;">
                                        <h2> Влияние на доступность (A)</h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseA('0.0')"> Не оказывает (N)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseA('0.22')"> Низкое (L)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseA('0.56')"> Высокое (H)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-4">
                            <div style="text-align: center;">
                                <div class="card" style="width:70%; height:250px">
                                    <div class="card-body">
                                        <h5 class="card-title"> Базовая оценка (BS)</h5>
                                        <h6 id="base"></h6>
                                        <button type="button" onclick="countBase()" class="btn btn-outline-info">
                                            Вычислить
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header" id="headingTwo">
                <h2 class="mb-0">
                    <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                            data-target="#collapseTwo"
                            aria-expanded="false" aria-controls="collapseTwo">
                        Временные метрики
                    </button>
                </h2>
            </div>
            <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                <div class="jumbotron jumbotron-xl">
                    <div class="row">
                        <div class="col-8">
                            <div class="row">
                                <div class="col-12">
                                    <div style="text-align: center;">
                                        <h2> Доступность средств эксплуатации (E) </h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseE('1.0')"> Не определено (X)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseE('0.91')"> Теоретически (U)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseE('0.94')"> Есть концепция (P)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseE('0.97')"> Есть сценарий (F)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseE('1.0')"> Высокая (H)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <div style="text-align: center;">
                                        <h2> Степень достоверности источника (RC)  </h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseRc('1.0')"> Не определено (X)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseRc('0.92')"> Отчёты (U)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseRc('0.96')"> Достоверные отчёты (R)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseRc('1.0')"> Подтверждена (C)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <div style="text-align: center;">
                                        <h2> Уровень исправления (RL)</h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseRl('1.0')"> Не определено (X)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseRl('1.0')"> Недоступно (U)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseRl('0.97')"> Рекомендации (W)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseRl('0.96')"> Временное (T)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseRl('0.95')"> Официальное (O)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-4">
                            <div style="text-align: center;">
                                <div class="card" style="width:70%; height:250px">
                                    <div class="card-body">
                                        <h5 class="card-title"> Временная оценка (TS)</h5>
                                        <h6 id="temporal"></h6>
                                        <button type="button" onclick="countTemporal()" class="btn btn-outline-info">
                                            Вычислить
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header" id="headingThree">
                <h2 class="mb-0">
                    <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                            data-target="#collapseThree"
                            aria-expanded="false" aria-controls="collapseThree">
                        Kонтекстныe метрики
                    </button>
                </h2>
            </div>
            <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
                <div class="jumbotron jumbotron-xl">
                    <div class="row">
                        <div class="col-8">
                            <div class="row">
                                <div class="col-12">
                                    <div style="text-align: center;">
                                        <h2> Требования к конфиденциальности (CR)</h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseCr('1.0')"> не определено (X)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseCr('0.5')"> низкая (L)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseCr('1.0')"> средняя (M)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseCr('1.5')"> высокая (H)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <div style="text-align: center;">
                                        <h2> Требования к целостности (IR)</h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseIr('1.0')"> не определено (X)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseIr('0.5')"> низкая (L)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseIr('1.0')"> средняя (M)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseIr('1.5')"> высокая (H)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <div style="text-align: center;">
                                        <h2>Требования к доступности (AR)</h2>
                                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseAr('1.0')"> не определено (X)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseAr('0.5')"> низкая (L)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseAr('1.0')"> средняя (M)
                                            </label>
                                            <label class="btn btn-secondary">
                                                <input type="radio" onclick="chooseAr('1.5')"> высокая (H)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        <div class="row">
                            <div class="col-12">
                                <div style="text-align: center;">
                                    <h2> Вектор атаки (корр.) (MAV)</h2>
                                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMav('-1.0')"> не определено (X)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMav('0.85')"> Сетевой (N)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMav('0.62')"> Смежная сеть (A)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMav('0.55')"> Локальный (L)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMav('0.2')"> Физический (P)
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div style="text-align: center;">
                                    <h2> Сложность атаки (корр.) (MAC)</h2>
                                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMac('-1.0')"> не определено (X)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMac('0.44')"> высокая (H)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMac('0.77')"> низкая (L)
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div style="text-align: center;">
                                    <h2> Уровень привилегий (корр.) (MPR)</h2>
                                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMpr('-1.0')"> не определено (X)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMpr('0.27')"> высокий (H)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMpr('0.62')"> низкий (L)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMpr('0.85')"> Не требуется (N)
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div style="text-align: center;">
                                    <h2> Взаимодействие с пользователем (корр.) (MUI)</h2>
                                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMui('-1.0')"> Hе определено (X)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMui('0.62')"> Требуется (R)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMui('0.85')"> Не требуется (N)
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div style="text-align: center;">
                                    <h2> Влияние на другие компоненты системы (корр.) (MS):</h2>
                                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMs('-1.0')"> Hе определено (X)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMs('0.0')"> Не оказывает (U)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMs('1.0')"> Оказывает (C)
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div style="text-align: center;">
                                    <h2> Влияние на конфиденциальность (корр.) (MС)</h2>
                                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMc('-1.0')"> Hе определено (X)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMc('0.0')"> Не оказывает (N)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMc('0.22')"> Низкие (L)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMc('0.56')"> Высокое (H)
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div style="text-align: center;">
                                    <h2> Влияние на целостность (корр.) (MI)</h2>
                                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMi('-1.0')"> Hе определено (X)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMi('0.0')"> Не оказывает (N)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMi('0.22')"> Низкие (L)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMi('0.56')"> Высокое (H)
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div style="text-align: center;">
                                    <h2> Влияние на доступность (корр.) (MA)</h2>
                                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMa('-1.0')"> Hе определено (X)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMa('0.0')"> Не оказывает (N)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMa('0.22')"> Низкие (L)
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" onclick="chooseMa('0.56')"> Высокое (H)
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div>
                        <div class="col-4">
                            <div style="text-align: center;">
                                <div class="card" style="width:70%; height:250px">
                                    <div class="card-body">
                                        <h5 class="card-title"> Контекстная оценка (ES)</h5>
                                        <h6 id="env"></h6>
                                        <button type="button" onclick="countEnv()" class="btn btn-outline-info">
                                            Вычислить
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>
<script>
    window.s = 0;

    function chooseC(r) {
        window.c = parseFloat(r)
    }

    function chooseI(r) {
        window.i = parseFloat(r)
    }

    function chooseA(r) {
        window.a = parseFloat(r);
    }


    function countImpact() {
        window.impact = 1 - (1 - window.c) * (1 - window.i) * (1 - window.a);
    }

    function chooseAv(r) {
        window.av = parseFloat(r)
    }

    function chooseAc(r) {
        window.ac = parseFloat(r)
    }
    function choosePr(r) {
        window.pr = parseFloat(r);
        if (window.s === 1) {
            if (window.pr === 0.62) window.pr = 0.68;
            if (window.pr === 0.27) window.pr = 0.5;
        }
    }

    function chooseS(r) {
        window.s = parseFloat(r);
    }

    function chooseUi(r) {
        window.ui = parseFloat(r);
    }



    function countExpl() {
        window.expl = 8.22 * window.av * window.ac * window.pr * window.ui;
    }

    function countBase() {
        countImpact();
        alert(window.impact);
        countExpl();
        alert(window.expl);
        if (window.impact <= 0) window.base = 0;
        if (window.s === 0) {
            let imp = 6.42 * window.impact;
            window.base = (Math.min((imp  + window.expl), 10)).toFixed(1);
        } else  {
            let imp = (7.52 * (window.impact - 0.029) - 3.25 * Math.pow(window.impact - 0.02, 15));
            window.base = (Math.min(1.08 * (imp + window.expl), 10.0)).toFixed(1);
        }
        if (isNaN(window.base)) document.getElementById("base").innerText = "Укажите все метрики";
        else document.getElementById("base").innerText = window.base;
    }

    function chooseE(r) {
        window.e = parseFloat(r)
    }

    function chooseRc(r) {
        window.rc = parseFloat(r)
    }

    function countTemporal() {
        if (isNaN(window.base)) document.getElementById("temporal").innerText = "Вычислите базовую оценку";
        else {
            window.temporal = (window.base * window.e * window.rl * window.rc).toFixed(1);
            if (isNaN(window.temporal)) document.getElementById("temporal").innerText = "Укажите все метрики";
            else document.getElementById("temporal").innerText = window.temporal;
        }
    }

    function chooseRl(r) {
        window.rl = parseFloat(r);
    }

    function chooseCr(r) {
        window.cr = parseFloat(r)
    }

    function chooseIr(r) {
        window.ir = parseFloat(r)
    }

    function chooseAr(r) {
        window.ar = parseFloat(r)
    }

    function chooseMav(r) {
        window.mav = parseFloat(r);
        if (window.mav === -1.0) window.mav = window.av;
    }


    function chooseMui(r) {
        window.mui = parseFloat(r);
        if (window.mui === -1.0) window.mui = window.ui;
    }
    
    function chooseMac(r) {
        window.mac = parseFloat(r);
        if (window.mac === -1.0) window.mac = window.ac;
    }

    function chooseMpr(r) {
        window.mpr = parseFloat(r);
        if (window.mpr === -1.0) window.mpr = window.pr;
    }

    function chooseMs(r) {
        window.ms = parseFloat(r);
        if (window.ms === -1.0) window.ms = window.s;
    }
    function chooseMc(r) {
        window.mc = parseFloat(r);
        if (window.mc === -1.0) window.mc = window.c;
    }

    function chooseMi(r) {
        window.mi = parseFloat(r);
        if (window.mi === -1.0) window.mi = window.i;
    }
    function chooseMa(r) {
        window.ma = parseFloat(r);
        if (window.ma === -1.0) window.ma = window.a;
    }


    function countMImpactBase() {
        window.mImpactBase = Math.min((1.0 - ( 1.0  - window.mc * window.cr ) * (1.0 - window.mi * window.ir) * (1.0 - window.ma * window.ar)) , 0.915);
    }

    function countMImpact() {
        countMImpactBase();
        if (window.ms = 0) {
            window.mImpact = 6.42 * window.mImpactBase;
        } else {
            window.mImpact = 7.52 * (window.mImpactBase - 0.029 ) - 3.25 * Math.pow(window.mImpactBase - 0.02, 15);
        }
    }

    function countMExpl() {
        window.mexpt = 8.22 * window.mac * window.mav  * window.mpr * window.mui;
    }

    function countEnv() {
        if (isNaN(window.temporal)) document.getElementById("temporal").innerText = "Вычислите временную оценку";
        else {
            countMExpl();
            countMImpact();
            if (window.mImpact <= 0 ) {
                window.env = 0;
            } else  {
                if (window.ms === 0) {
                    window.env = ((Math.min((window.mImpact + window.mexpt), 10.0).toFixed(1)) * window.e * window.rl * window.rc).toFixed(1);
                } else {
                    window.env = ((Math.min((1.08 * window.mImpact + window.mexpt), 10.0).toFixed(1)) * window.e * window.rl * window.rc).toFixed(1);
                }
            }
            if (isNaN(window.env)) document.getElementById("env").innerText = "Укажите все метрики";
            else document.getElementById("env").innerText = window.env;
        }
    }


</script>
<style>
    .btn-group-toggle {
        width: 100%
    }
    .card {
        margin: auto;
    }

    .card-title {
        margin: revert;
    }

</style>

